<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../../js/layui/css/layui.css">
</head>
<body>
<table id="role" lay-filter="role"></table>
<script src="../../js/layui/layui.js"></script>
<script type="text/html" id="barDemo">
    <div class="layui-btn-group">
        <button class="layui-btn layui-btn-primary layui-btn-sm" title="新增">
            <i class="layui-icon">&#xe654;</i>
        </button>
        <button class="layui-btn layui-btn-primary layui-btn-sm" title="修改">
            <i class="layui-icon">&#xe642;</i>
        </button>
        <button class="layui-btn layui-btn-primary layui-btn-sm" title="删除">
            <i class="layui-icon">&#xe640;</i>
        </button>
        <button class="layui-btn layui-btn-primary layui-btn-sm" title="刷新">
            <i class="layui-icon">&#x1002;</i>
        </button>
    </div>
</script>
<script>
    layui.use(['table', 'jquery'], () => {
        var roleTable = layui.table.render({
            elem: '#role',
            height: 'full-20',
            page: true,
            url: '/role.json',
            cols: [[
                {type: 'checkbox'},
                {type: 'numbers', title: '序号'},
                {field: 'code', title: '编号', width: 80},
                {field: 'name', title: '角色名称', width: 120},
                {
                    title: '操作', width: 120, align: 'center', templet: d => {
                        return '<button class="layui-btn layui-btn-sm">分配菜单</button>';
                    }
                }
            ]],
            toolbar: '#barDemo'
        });

        const $ = layui.jquery;

        $("#reload").click(() => {
            roleTable.reload();
        });

    });
</script>
</body>
</html>

