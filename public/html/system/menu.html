<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../../js/layui/css/layui.css">
</head>
<body>
<script src="../../js/layui/layui.js"></script>
<script src="../../js/common/common.js"></script>
<table class="layui-hidden" id="treeTable" lay-filter="treeTable"></table>
<script type="text/html" id="barDemo">
    <div class="layui-btn-group">
        <a class="layui-btn" lay-event="new">新增</a>
        <a class="layui-btn" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-danger" lay-event="del">删除</a>
    </div>
</script>
<script>
    layui.config({base: '/js/layui/lay/modules/'}).use('treegrid', function () {
        layui.treegrid.render({
            elem: '#treeTable',
            url: '/menu',
            cellMinWidth: 100,
            treeId: 'id',
            treeUpId: 'parentId',
            treeShowName: 'name',
            cols: [[
                {type: 'checkbox'},
                {field: 'name', width: '180', title: '菜单名称', halign: 'center'},
                {field: 'url', width: '180', title: '菜单链接'},
                {field: 'sort', width: 100, title: '排序', align: 'center'}
            ]],
            toolbar: '#barDemo'
        });
    });
    const t = layui.table;
    t.on('tool(treeTable)', obj => {
        if (obj === 'new') {
            layer.msg('new');
        } else if (obj === 'edit') {
            layer.msg('edit');
        } else if (obj === 'del') {
            layer.msg('del');
        }
    });
</script>
</body>
</html>